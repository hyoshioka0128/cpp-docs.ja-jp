---
description: '詳細情報: Visual Studio でのマニフェスト生成'
title: Visual Studio でのマニフェスト生成
ms.date: 11/04/2016
helpviewer_keywords:
- manifests [C++]
ms.assetid: 0af60aa9-d223-42cd-8426-b3fc543a2a81
ms.openlocfilehash: 88d6cac19e7a0c24a28252edda5ac22ca3cadd64
ms.sourcegitcommit: d6af41e42699628c3e2e6063ec7b03931a49a098
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/11/2020
ms.locfileid: "97176445"
---
# <a name="manifest-generation-in-visual-studio"></a>Visual Studio でのマニフェスト生成

プロジェクトの **[プロパティ ページ]** ダイアログで特定のプロジェクトのマニフェスト ファイル生成を制御できます。 **[構成プロパティ]** タブで **[リンカー]** をクリックし、 **[マニフェスト ファイル]** をクリックし、 **[マニフェストの生成]** をクリックします。 既定では、新しいプロジェクトのプロジェクト プロパティはマニフェスト ファイルを生成するように設定されています。 ただし、プロジェクトの **[マニフェストの生成]** プロパティを利用し、プロジェクトのマニフェスト生成を無効にできます。 このプロパティを **[はい]** に設定すると、このプロジェクトのマニフェストが生成されます。 それ以外の場合、リンカーではアプリケーション コードの依存関係の解決時、アセンブリ情報が無視され、マニフェストは生成されません。

Visual Studio のビルド システムでは、マニフェストを最終バイナリ アプリケーション ファイルに組み込むか、外部ファイルとして生成できます。 この動作は、 **[プロジェクトのプロパティ]** ダイアログの **[埋め込みマニフェスト]** オプションで制御されます。 このプロパティを設定するには、 **[マニフェスト ツール]** ノードを開き、 **[入出力]** を選択します。 マニフェストが埋め込まれていない場合、外部ファイルとして生成され、最終的なバイナリと同じディレクトリに保存されます。 マニフェストが埋め込まれている場合、Visual Studio では、次のプロセスを使用して最終的なマニフェストが埋め込まれます。

1. ソース コードがコンパイルされ、オブジェクト ファイルが生成されると、リンカーによって依存アセンブリ情報が収集されます。 最終的なバイナリをリンクするとき、リンカーによって、後で最終バイナリの生成に使用される中間マニフェストが生成されます。

1. 中間マニフェストとリンクが完了すると、マニフェスト ツールが実行されて最終マニフェストが結合され、外部ファイルとして保存されます。

1. 次にプロジェクト ビルド システムによって、マニフェスト ツールで生成されたマニフェストに、バイナリに既に埋め込まれているマニフェストとは異なる情報が含まれるかどうかが検出されます。

1. バイナリに埋め込まれているマニフェストがマニフェスト ツールによって生成されたマニフェストとは異なる場合、あるいは埋め込みマニフェストがバイナリに含まれない場合、Visual Studio では、リンカーが複数回呼び出され、外部マニフェスト ファイルがバイナリ内にリソースとして埋め込まれます。

1. バイナリに埋め込まれているマニフェストがマニフェスト ツールによって生成されたマニフェストと同じ場合、ビルドは次のビルド手順に進みます。

マニフェストはテキスト リソースとして最終バイナリ内に埋め込まれます。Visual Studio でファイルとして最終バイナリを開くことでマニフェストを表示できます。 マニフェストが正しいライブラリを指すようにするには、「[Visual C++ アプリケーションの依存関係の理解](../windows/understanding-the-dependencies-of-a-visual-cpp-application.md)」に説明がある手順に従うか、「[トラブルシューティング](troubleshooting-c-cpp-isolated-applications-and-side-by-side-assemblies.md)」セクションに説明がある提案に従います。

## <a name="see-also"></a>関連項目

[C/C++ プログラムのマニフェスト生成についての理解](understanding-manifest-generation-for-c-cpp-programs.md)
